const sqlite= require('sqlite3')
const db= new sqlite.Database('travel.db')
const createUserTable= `CREATE TABLE IF NOT EXISTS USER (ID INTEGER PRIMARY KEY AUTOINCREMENT,
NAME TEXT NOT NULL,
EMAIL TEXT UNIQUE NOT NULL,
PASSWORD TEXT NOT NULL,
ISADMIN INT)`

const createFlightTable=`CREATE TABLE IF NOT EXISTS FLIGHT (ID INTEGER PRIMARY KEY AUTOINCREMENT,
HOME TEXT NOT NULL,
AWAY TEXT NOT NULL,
DATE TEXT NOT NULL,
QUANTITY INT NOT NULL)`

const createBookingTable =`CREATE TABLE IF NOT EXISTS BOOKING (ID INTEGER PRIMARY KEY AUTOINCREMENT,
USER_ID INT,
FLIGHT_ID INT,
FOREIGN KEY (USER_ID) REFERENCES USER(ID),
FOREIGN KEY (FLIGHT_ID) REFERENCES FLIGHT(ID))`

module.exports={db,createUserTable,createFlightTable,createBookingTable}